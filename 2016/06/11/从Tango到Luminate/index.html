<!DOCTYPE html><html><head><meta charset="utf-8"><title>从Tango到Luminate | Andimeo&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="写Blog这件事总是时断时续，距离上一篇Blog已经过去半年了。最近godaddy又开始催收域名费用了，大概120人民币，奇怪的是一年前觉得这个贵到不可接受，现在却觉得略便宜。人就是这样在潜移默化中一点点改变的，消费观、人生观乃至世界观。 加入Luminate Wireless已经快两个月了，以为会像离开MicroStrategy时一样写一篇吐槽的帖子，再展望一下未来，然而并没有。如同我姐上次在微"><meta property="og:type" content="article"><meta property="og:title" content="从Tango到Luminate"><meta property="og:url" content="https://andimeo.us.kg/2016/06/11/%E4%BB%8ETango%E5%88%B0Luminate/index.html"><meta property="og:site_name" content="Andimeo&#39;s Blog"><meta property="og:description" content="写Blog这件事总是时断时续，距离上一篇Blog已经过去半年了。最近godaddy又开始催收域名费用了，大概120人民币，奇怪的是一年前觉得这个贵到不可接受，现在却觉得略便宜。人就是这样在潜移默化中一点点改变的，消费观、人生观乃至世界观。 加入Luminate Wireless已经快两个月了，以为会像离开MicroStrategy时一样写一篇吐槽的帖子，再展望一下未来，然而并没有。如同我姐上次在微"><meta property="og:locale"><meta property="og:image" content="https://andimeo.us.kg/img/Cupertino_City_Center.jpg"><meta property="article:published_time" content="2016-06-11T07:29:02.000Z"><meta property="article:modified_time" content="2024-09-07T07:25:33.408Z"><meta property="article:author" content="Andimeo"><meta property="article:tag" content="Tango"><meta property="article:tag" content="Luminate"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://andimeo.us.kg/img/Cupertino_City_Center.jpg"><link rel="alternative" href="/atom.xml" title="Andimeo&#39;s Blog" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><link href="http://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/style.css"><!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><meta name="generator" content="Hexo 7.3.0"></head><body><div id="container"><div id="wrap"><nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">Andimeo&#39;s Blog</a><div class="collapse navbar-collapse nav-menu"><ul class="nav navbar-nav"><li><a href="/archives/"><i class="fa fa-archive"></i> Archives</a></li><li><a href="/categories/"><i class="fa fa-folder"></i> Categories</a></li><li><a href="/tags/"><i class="fa fa-tags"></i> Tags</a></li><li><a href="/about/"><i class="fa fa-user"></i> About</a></li></ul><ul class="nav navbar-nav navbar-right"><li><a id="rss-link" href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li></ul></div></div></nav><div class="clearfix"></div><div id="content" class="container"><div class="page-header-wrapper"><!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a target="_blank" rel="noopener" href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a target="_blank" rel="noopener" href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]--><div class="page-header"><h1 class="title">从Tango到Luminate</h1></div></div><section id="main"><article id="post-cm1f7qky500198by75nxy194b" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-inner"><div class="article-entry" itemprop="articleBody"><div id="toc"><span class="toc-header">Contents</span><ol class="article-toc"><li class="article-toc-item article-toc-level-1"><a class="article-toc-link" href="#tango"><span class="article-toc-text">Tango</span></a><ol class="article-toc-child"><li class="article-toc-item article-toc-level-2"><a class="article-toc-link" href="#git"><span class="article-toc-text">Git</span></a></li><li class="article-toc-item article-toc-level-2"><a class="article-toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="article-toc-text">设计模式</span></a></li><li class="article-toc-item article-toc-level-2"><a class="article-toc-link" href="#%E6%8A%80%E6%9C%AF%E4%B9%8B%E5%A4%96"><span class="article-toc-text">技术之外</span></a></li></ol></li><li class="article-toc-item article-toc-level-1"><a class="article-toc-link" href="#luminate-wireless"><span class="article-toc-text">Luminate Wireless</span></a></li></ol></div><p>写Blog这件事总是时断时续，距离上一篇Blog已经过去半年了。最近godaddy又开始催收域名费用了，大概120人民币，奇怪的是一年前觉得这个贵到不可接受，现在却觉得略便宜。人就是这样在潜移默化中一点点改变的，消费观、人生观乃至世界观。</p><p>加入Luminate Wireless已经快两个月了，以为会像离开MicroStrategy时一样写一篇吐槽的帖子，再展望一下未来，然而并没有。如同我姐上次在微信中问我新公司怎么样，我说还不错啊，能学到不少新东西。她说你在上个公司不也是这么说么。想了想的确如此，呵呵。在Tango这一年零两个月的时间里，确实看到了不少东西，也学到了不少东西，认识了不少的牛人。也对在这个圈子里怎么找到自己的安身立命之本有一点点顿悟。有人网络知识精通，只用Linux自身的工具就可以创造自己的协议，游刃于UDP与IPsec之间。有人熟习Git各种使用场景，设计模式信手拈来。有人博学多闻，轻松可以出任一个规模略小公司的CTO。</p><span id="more"></span><h1 id="tango">Tango</h1><p>话既然说到了这里，还是总结一下自己在Tango的收获吧。</p><h2 id="git">Git</h2><p>对Git的理解更深一步，借此对Continue Integration也有了认识。以至于现在对svn，perforce等centralized的版本控制工具都嗤之以鼻。凡是碰到有现有工具解决不了的问题，回头想想Git，总能找到一个比较好的解决方法。列举一二心得于此：</p><ul><li>在开发中，当我们提交了一个change后，常常需要等待peer review。这个过程在跨时区的影响下会变得令人难以忍受。因为接下来的工作往往会依赖于已经提交的change。这如果在Git的环境中，我们可以发布一个pull request之后，继续在新的branch上进行自己的工作。如果上游通过最好，我们直接删除本地的那个分支即可。如若不通过，则更改后提交，同时本地进行新的开发，当然merge还是需要你来做，不过只是本地两个分支的merge，会轻松很多，也不会影响其他人。如若新的branch上的开发已经结束，可以直接追加到原油的pull request上。因为commit级别的分离在本地已经完成，一个pull request中包含了很多commits，所以并不会导致会有一个超大的change list被提交。而svn，perforce这样的工具无法很好的解决问题。</li></ul><hr><ul><li>假设我现在提交了一个change，对现有主干逻辑进行refactor。但是review之后，发现需要大改。然而这个改动会影响很多人现有的工作。你如果无法尽快完成改变，review通过，提交。你滞后的每一分钟都可能给你的合作者将来发布change时带去硕大的麻烦。因为他们是在现有的架构上开发的，提交时需要首先sync远端。这就导致他们的改动越多，到时候需要merge的地方就越多。这时往往会选择先暂时不提交这个change，等大家的工作完成后，融合到现有的架构中。然后自己再去做refactor。这对于git来说，只要把这次的refactor至于本地的分支中即可。而对于svn和perforce，如果你不想放弃这次的改动，那么需要重新下载整个代码库到另一个地方，才能继续工作。It sucks！ 总结一下就是，Local branch and commits in the git world rocks! 在Git的学习道路上必须要感谢Jacky! You are an awesome engineer!</li></ul><h2 id="设计模式">设计模式</h2><p>在Tango重构了一个同事写的商品爬虫，说是重构其实是重写了。不知道怎么回事，每一次重构对我而言，都会演变成一次重写。也许是因为只有需要改变的东西如此critical，我才会动重构的念想。而对于一般的重构，我只会认为是一个瑕疵，一个不足，只是一次改进。</p><p>这次重构，几乎成了这次找工作时面对每个公司我都必说的case，也几乎是在tango做的唯一能拿得出的工作。除了这件事，在tango的日常开发，无非是一些API的开发，测试，我忘的比我写的还要快。</p><p>这次重构主要解决一个问题，之前那哥们写的代码实在过于猛糙快。里面有过多的if-else，这样的结果是经常会看到数百行的函数。并且需要添加一个新的partner时，从入口到出口的逻辑需要从头改到尾，因为这些判断都是通过if-else来决定的。OO世界中，尤其是Java中的继承与多态哭了。</p><p>所以我的策略是将主流程抽象出来定义为一个模块，叫做spider-framework。里面并不涉及具体的partner，并且开放一些虚接口供子类实现，来满足不同实现的特殊需求。这个东西后来在看设计模式的书时，发现应该是所谓的策略模式。</p><p>这次看了《Head First Design Patterns》这本书后，又想起之前看到的别人在这个主题上的评论。那个人说其实设计模式人人都在用，只是很多人根本不知道那个名字。Agree！跟Luminate的一个同事也讨论过这个问题，我的看法是，设计模式并不值得学习，但是应该了解一下。两个特点导致设计模式并不值得学习：</p><ul><li>设计模式中的术语并不具有明确的指示意义。也许有人期望谈到某个模式的时候，大家明白他在说什么，然而在一个特定的环境下，讲真，说明白你的人他的想法一定与你不同，或大或小。在这点上设计模式并达不到这个作用，尤其是一些复杂的模式。</li><li>设计模式并不值得死记硬背，看设计模式的书也可以看到，同样的做法在不同的情境下，叫的名字就会不一样。因为设计模式的命名不都是按照结构，很大一部分是按照目的命名的。如Decorator和Proxy完全可以有一样的实现，但是你的着眼点不同，你就可以叫他不同的名字。</li></ul><h2 id="技术之外">技术之外</h2><p>在Tango经历了yixin的离职，Yue的上任，Uri回以色列弄孙为乐，shop的失败。对于选择，也有了一些与之前不同的感受。Yixin离职时和我one-on-one的时候说，他在Tango已经呆了6年多，他的付出也得到了公司的反馈，北京的site manager，公司级别的VP，他还能怎样呢，总不能在Tango呆一辈子吧。在Yixin在Tango最后的日子里，开会时他总会和我们分享一些资本市场的态度，business insider几乎成了每次会议上slides里必有的内容。他说他去Baihe也是希望在资本层面学习一些新的东西，看看资本究竟是如何影响技术世界的，资本世界究竟是如何看待这个世界，选择一种hard模式，继续升级！对于yixin，我的评价是，True Leader，not boss！Best wishes！</p><p>在我们得到公司结束的消息后，开始找工作的日子里，大家也会各有不同的想法。我认为有趣的事情，在别人眼里也许并不值得一提，各种思想会有碰撞，也蛮有趣的。有人去创业，有人去大公司，有人继续去创业公司，还有人去传统行业。Tango的群里在这一年多的时间里，几乎只有红包可以引出人，但是这一个多月里，非常的活跃。似乎分别的时刻有些人之间的交流比一年内说的所有话还要多。大家这时似乎才承认当初HR跟我们说的Tango像是一家人的感觉。</p><h1 id="luminate-wireless">Luminate Wireless</h1><p>不想再说为什么会加入Luminate了，无非也就是家庭、薪水、未来等等。谈谈这接近两个月的一些感悟吧。Kevin也说过Luminate是一个老年人成立的公司，后来我才发现我加入公司的平均年龄已经越来越大了。MicroStrategy里面毕业不久的新瓜蛋子占了绝大多数，Tango里平均年龄大概已经超过了30岁，而Luminate，40应该止不住，哈哈。</p><p>在这一个多月里，从Java转到了C++，虽然还是很多东西不懂，但是已经不影响正常的工作了。了解了更多后，反倒对C++有了偏见。我觉得Java有Java的好处，C也有也的方便。然后C++放在中间反倒容易使人掣肘。</p><ul><li>C可以重新解释内存，<code>reinterpret_cast</code>的好处不用多说，这在Java的世界中不可想象</li><li>Java的所有对象都是引用计数，传值和返回都是引用，在函数中所有对象几乎都在堆里，在栈里只能看到基础类型的身影，这得益于GC。起初觉得这理所当然，回到C++才发现这是多么难得且珍贵的特性</li><li>C++中函数里声明的对象，返回时要格外小心，因为内存的ownership随时可能不吻合你的直觉。而且能在栈里分配的内存绝不要在堆里分配，这是C++的best practice。因为C++没有GC，过多小的内存申请与回收，会导致内存碎片问题。</li></ul><p>在Luminate还学到了一个很好的玩意儿<code>emacs</code>，在Java的世界中，eclipse太优秀了，以至于没有别的东西可以撼动，也没有给vim、emacs、sublime和Atom任何机会。但是在C++的世界中，情况相反，除了win下的VS，没有好用的IDE。所以这个问题每个人都会有自己的选择，我一开始想打造自己的vim环境来完成这个任务，后来发现即使用clang的YouCompleteMe，vim也会被托的很慢，和eclipse无法同日而语。其实emacs也无法很好的完成这些任务，但是在emacs下，会发现有些需求其实是不需要的。比如自动补全，其实不需要那么复杂的基于语义的补全，emacs对buffer中基于tag的补全足够好用了。另外emacs中内嵌可以执行各种命令，更是一个神器，几乎所有事情你都可以不离开emacs，就可以完成。gdb调试，bazel编译，都可以。据说emacs海可以煮咖啡，哈哈！虽说如此，emacs仍然不是完美的，在实现和定义之间的跳转，查看一个变量的call hirarchy等，在emacs中仍然无法满足。以至于我在更改我不熟悉的别人的模块时，还是会去eclipse下操作。但是对于从头写的东西，emacs就太爽了。尤其结合公司内部已有的一些YASnippets，可以避免很多boiler plate。现在的这篇博客就是在emacs中写的，markdown-mode。</p><hr><p>Luminate来到北京，据说是因为硅谷超不到合适的人。因为在硅谷的用人环境与国内恰好相反。硅谷的大公司如Google和Facebook之流给人才的薪水，是创业公司望尘莫及的，尤其像Luminate这种融资不过数千万美元的公司。而在国内，创业公司更舍得给钱，希望招到更优秀的人来restructure the market。国内的大公司占据了垄断地位，就开始剥削人才，强调loyalty了。Ugly！</p><p>这边有Google出来的软件工程师，Cisco出来的网络工程师，也有传统通信行业出来的。与他们的工作中，发现互联网行业的公司更强调Coding Style，Review Process，写出漂亮的代码，而不只是能工作的代码。而传统行业的人，在设计上的sense真的只有cs大二大三的水平。他们也懂很多，说的时候可以头头是道，但是在做的上面，则不尽如人意。</p><p>Ming经常会不抑制的发脾气，他们也会接受，再修改，但难得要领。甚至怪罪于，Ming将自己个人的preference强加于他们之上。是的，这些东西总是可以用taste来解释，但是好的taste会产出好的效果。就好像是内力，无形却有力。</p><p>其实除却技术之外，这些人身上会夹杂着浓浓的揣摩圣意的意图。Ming不满意，他们不会去思考整理自己哪里的不对，Ming为什么会要求他们那样。甚至不愿去争辩自己认为是对的东西。时时刻刻把对上级的揣摩与猜测挂在嘴边，放在心里。这样做仍然无法满足上级，因为上级要的不是这个。</p><p>我也可以感受到，我对Ming的一些做法有质疑时的直言，让Ming对我有一些惺惺相惜之感。的确，其实互联网行业出来的人，往往不会炫耀自己的资历，只会用能力去和别人对话。我做的不对，你就说怎么样是对的，以此达到共识。能碰到一个能真正交流，又能学习到东西的同事，是一件很难得的事情。彼此珍惜。我很庆幸我在这样的一个行业中，在外企中，在一个允许、鼓励员工畅所欲言的环境中，每个人都彰显自己的个性，求同存异，共同进步。办公室政治不可避免，尽量出淤泥而不染吧。</p><p>本来说不会写，结果开了个头就很难停下来，还是写了这么一个东西。最后，哥要去Cupertino了，哈哈，下周一！ <img src="/img/Cupertino_City_Center.jpg" alt="Cupertino Center, Calif."></p></div></div></article><section id="comments"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="https://andimeo.us.kg/2016/06/11/%E4%BB%8ETango%E5%88%B0Luminate/",this.page.identifier="8c507bd4-6ba7-11ef-80cf-1747159a1056"};!function(){var e=document,t=e.createElement("script");t.src="https://andimeo.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}()</script><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></section></section><aside id="sidebar"><div class="widget-wrap center"><ul class="pagination"><li><a href="/2016/06/11/Certificate/" class="nav-prev">Prev</a></li><li><a data-url="https://andimeo.us.kg/2016/06/11/%E4%BB%8ETango%E5%88%B0Luminate/" data-id="cm1f7qky500198by75nxy194b" data_title="从Tango到Luminate" data_summary="写Blog这件事总是时断时续，距离上一篇Blog已经过去半年了。最近godaddy又开始催收域名费用了，大概120人民币，奇怪的是一年前觉得这个贵到不可接受，现在却觉得略便宜。人..." class="article-share-link">Share</a></li><li><a href="/2015/12/05/切尔诺贝利的回忆/" class="nav-next">Next</a></li></ul></div><div class="widget-wrap"><div class="post-widget"><i class="fa fa-clock-o"></i> <time datetime="2016-06-11T07:29:02.000Z" itemprop="datePublished">2016-06-11</time></div></div><div class="widget-wrap"><div class="post-widget"><i class="fa fa-folder"></i> <a class="category-link" href="/categories/%E5%BF%83%E6%83%85/">心情<span class="category-count">4</span></a></div></div><div class="widget-wrap"><div class="post-widget"><i class="fa fa-tags"></i> <a class="tag-none-link" href="/tags/Luminate/" rel="tag">Luminate<span class="tag-none-count">1</span></a><a class="tag-none-link" href="/tags/Tango/" rel="tag">Tango<span class="tag-none-count">1</span></a></div></div></aside></div><footer id="footer"><div class="outer container"><div id="footer-info" class="inner"><a href="/">Andimeo&#39;s Blog</a> &copy; 2024 Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and Theme by <a href="https://github.com/Andimeo/hexo-theme-nut" target="_blank">Nut</a></div></div></footer><a id="gotop" href="#"><i class="fa fa-chevron-up"></i></a></div><nav id="mobile-nav"><a href="[object Object]" class="mobile-nav-link">0</a> <a href="[object Object]" class="mobile-nav-link">1</a> <a href="[object Object]" class="mobile-nav-link">2</a> <a href="[object Object]" class="mobile-nav-link">3</a></nav><script src="/js/jquery.min.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script src="/js/jquery.fitvids.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/script.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });</script><script type="text/javascript" src="/js/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="dsq-count-scr" src="//andimeo.disqus.com/count.js" async></script></div></body></html>